"use strict";(self.webpackChunkfree_version=self.webpackChunkfree_version||[]).push([[836],{836:(W,f,d)=>{d.r(f),d.d(f,{BarcodePrinting:()=>S});var p=d(2200),i=d(8728),u=d(9417),h=d(8652),b=d(1413),_=d(7673),C=d(152),M=d(3294),P=d(5558),E=d(9437),m=d(6977),v=d(7758),F=d(5794),e=d(3664);const O=["scanInput"],B=r=>({loading:r}),x=(r,l,t,a)=>({"badge-created":r,"badge-validated":l,"badge-missing":t,"badge-error":a}),j=(r,l,t)=>({"text-success":r,"text-danger":l,"text-warning":t});function y(r,l){1&r&&(e.j41(0,"div",36)(1,"output",37)(2,"span",38),e.EFF(3,"Cargando..."),e.k0s()()())}function k(r,l){if(1&r){const t=e.RV6();e.j41(0,"div",41),e.bIt("click",function(){const n=i.eBV(t).$implicit,o=e.XpG(2);return i.Njj(o.selectReference(n))})("keydown.enter",function(){const n=i.eBV(t).$implicit,o=e.XpG(2);return i.Njj(o.selectReference(n))}),e.j41(1,"div",42)(2,"strong"),e.EFF(3),e.k0s()(),e.j41(4,"div",43),e.EFF(5),e.k0s()()}if(2&r){const t=l.$implicit;e.R7$(3),e.JRh(t.reference),e.R7$(2),e.JRh(t.productName)}}function R(r,l){if(1&r&&(e.j41(0,"div",39),e.DNE(1,k,6,2,"div",40),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.predictiveList)}}function D(r,l){1&r&&(e.j41(0,"div",44),e.EFF(1," La cantidad de etiquetas es obligatoria. "),e.k0s())}function I(r,l){1&r&&(e.j41(0,"div",45),e.EFF(1," Ingrese una referencia y cantidad para generar las etiquetas "),e.k0s())}function L(r,l){1&r&&(e.j41(0,"strong",25),e.EFF(1,"Pendiente"),e.k0s())}function N(r,l){1&r&&(e.j41(0,"strong",58),e.EFF(1,"Creado (Listo para Validar)"),e.k0s())}function A(r,l){if(1&r&&(e.j41(0,"li",59)(1,"div",60),e.EFF(2),e.k0s(),e.j41(3,"div",61)(4,"span",62),e.EFF(5),e.k0s()()()),2&r){const t=l.$implicit;e.Y8G("ngClass",t.status),e.R7$(2),e.JRh(t.number),e.R7$(2),e.Y8G("ngClass",e.ziG(4,x,"created"===t.status,"validated"===t.status,"missing"===t.status,"error"===t.status)),e.R7$(),e.SpI(" ","validated"===t.status?"Le\xeddo":"created"===t.status?"Creado":"missing"===t.status?"Faltante":"error"===t.status?"Error":"Pendiente"," ")}}function w(r,l){if(1&r){const t=e.RV6();e.j41(0,"div",46)(1,"div",47)(2,"div",48)(3,"button",49),e.bIt("click",function(){i.eBV(t);const n=e.XpG();return i.Njj(n.sendLabelsToPrinting())}),e.EFF(4),e.k0s(),e.j41(5,"button",50),e.bIt("click",function(){i.eBV(t);const n=e.XpG(),o=e.sdS(61);return i.Njj(n.validateLabels(o))}),e.EFF(6," Validar "),e.k0s()(),e.j41(7,"div",51)(8,"span",52),e.EFF(9,"Estado: "),e.DNE(10,L,2,0,"strong",53)(11,N,2,0,"strong",54),e.k0s()()(),e.j41(12,"div",55)(13,"ul",56),e.DNE(14,A,6,9,"li",57),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(3),e.Y8G("disabled",t.printedFromDB),e.R7$(),e.SpI(" ",t.printedFromDB?"Reimprimir Etiquetas":"Marcar como Creados"," "),e.R7$(),e.Y8G("disabled",!t.allCreated),e.R7$(5),e.Y8G("ngIf",!t.printedFromDB),e.R7$(),e.Y8G("ngIf",t.printedFromDB),e.R7$(3),e.Y8G("ngForOf",t.generatedLabels)}}function T(r,l){if(1&r){const t=e.RV6();e.j41(0,"li",80)(1,"span",81),e.EFF(2),e.k0s(),e.j41(3,"button",82),e.bIt("click",function(){const n=i.eBV(t).index,o=e.XpG(3);return i.Njj(o.removeEAN128(n))}),e.nrm(4,"i",83),e.EFF(5," X "),e.k0s()()}if(2&r){const t=l.$implicit;e.R7$(2),e.JRh(t.code)}}function $(r,l){if(1&r&&(e.j41(0,"ul",78),e.DNE(1,T,6,1,"li",79),e.k0s()),2&r){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.validatedEAN128)}}function V(r,l){1&r&&e.nrm(0,"span",84)}function G(r,l){if(1&r){const t=e.RV6();e.j41(0,"div",63)(1,"h4",64),e.EFF(2,"Contador y Validaci\xf3n de C\xf3digos"),e.k0s(),e.j41(3,"button",65),e.bIt("click",function(){const n=i.eBV(t).$implicit;return i.Njj(n.dismiss("Cancel"))}),e.k0s()(),e.j41(4,"div",66)(5,"p"),e.EFF(6,"Etiquetas Generadas (EAN-128): "),e.j41(7,"strong"),e.EFF(8),e.k0s()(),e.nrm(9,"hr"),e.j41(10,"h4"),e.EFF(11,"Escanear C\xf3digos (EAN-128)"),e.k0s(),e.j41(12,"div",67)(13,"input",68,1),e.mxI("ngModelChange",function(n){i.eBV(t);const o=e.XpG();return e.DH7(o.ean128Input,n)||(o.ean128Input=n),i.Njj(n)}),e.bIt("keyup",function(n){i.eBV(t);const o=e.XpG();return i.Njj(o.onEAN128Scan(n))})("keyup.enter",function(){i.eBV(t);const n=e.XpG();return i.Njj(n.addEAN128())}),e.k0s()(),e.j41(15,"div",69)(16,"h5",70),e.EFF(17," C\xf3digos Le\xeddos: "),e.j41(18,"strong",59),e.EFF(19),e.k0s()(),e.j41(20,"span",62),e.EFF(21),e.k0s()(),e.DNE(22,$,2,1,"ul",71),e.j41(23,"div",72)(24,"button",73),e.bIt("click",function(){const n=i.eBV(t).$implicit,o=e.XpG();return i.Njj(o.processFinalValidation(n))}),e.DNE(25,V,1,0,"span",74),e.EFF(26," Procesar Validaci\xf3n Final "),e.k0s()(),e.j41(27,"div",75)(28,"button",76),e.bIt("click",function(){i.eBV(t);const n=e.XpG();return i.Njj(n.clearModalInputs())}),e.EFF(29," Limpiar Lecturas "),e.k0s()()(),e.j41(30,"div",77)(31,"button",29),e.bIt("click",function(){const n=i.eBV(t).$implicit;return i.Njj(n.dismiss("Cerrar"))}),e.EFF(32,"Cerrar"),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(8),e.JRh(t.generatedLabels.length),e.R7$(5),e.R50("ngModel",t.ean128Input),e.R7$(5),e.Y8G("ngClass",e.sMw(10,j,t.validatedEAN128.length===t.barcodesFromDB.length,t.validatedEAN128.length>t.barcodesFromDB.length,t.validatedEAN128.length<t.barcodesFromDB.length&&t.validatedEAN128.length>0)),e.R7$(),e.Lme(" ",t.validatedEAN128.length," / ",t.barcodesFromDB.length," "),e.R7$(),e.Y8G("ngClass",t.validatedEAN128.length===t.barcodesFromDB.length?"bg-success":"bg-info"),e.R7$(),e.SpI(" ",t.validatedEAN128.length===t.barcodesFromDB.length?"Completado":"Faltan: "+(t.barcodesFromDB.length-t.validatedEAN128.length)," "),e.R7$(),e.Y8G("ngIf",t.validatedEAN128.length>0),e.R7$(2),e.Y8G("disabled",t.validatedEAN128.length!==t.barcodesFromDB.length||t.loading),e.R7$(),e.Y8G("ngIf",t.loading)}}let S=(()=>{class r{constructor(){this.printingLabelsService=(0,i.WQX)(v.e),this.modalService=(0,i.WQX)(h.Bq),this.toastr=(0,i.WQX)(F.tw),this.selectedReference="",this.productName="",this.EAN="",this.productCode="",this.labelCode="",this.quantity=null,this.quantityInvalid=!1,this.loading=!1,this.showDropdown=!1,this.predictiveList=[],this.generatedLabels=[],this.printedFromDB=!1,this.idDocumentDB="",this.barcodesFromDB=[],this.allCreated=!1,this.gtinLength=16,this.serialIA="21",this.gtinBase="",this.errorMessage="",this.printingLoading=!1,this.ean128Input="",this.validatedEAN128=[],this.input$=new b.B,this.destroy$=new b.B}ngOnInit(){this.input$.pipe((0,C.B)(300),(0,M.F)(),(0,P.n)(t=>{const a=(t??"").trim();if(!a||a.length<3)return(0,_.of)(null);this.loading=!0;const n={reference:a};return console.log("Consultando referencia:",n),this.printingLabelsService.postCurrentConsecutive(n).pipe((0,E.W)(o=>(console.error("postCurrentConsecutive error:",o),this.errorMessage=o?.message||"Error al consultar referencia",(0,_.of)(null))))}),(0,m.Q)(this.destroy$)).subscribe(t=>{this.loading=!1,this.predictiveList=[],t?(this.predictiveList=Array.isArray(t)?t:Array.isArray(t.msg)?t.msg:t.msg&&t.msg._id?[t.msg]:t._id?[t]:[],this.showDropdown=this.predictiveList.length>0):this.showDropdown=!1})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.input$.complete()}onReferenceInput(t){const a=t?.target?.value??"";this.selectedReference=a,this.errorMessage="",this.input$.next(a)}onFocus(){this.predictiveList.length>0&&(this.showDropdown=!0)}onBlur(){setTimeout(()=>this.showDropdown=!1,180)}selectReference(t){this.selectedReference=t.codRef??t.reference??this.selectedReference,this.productName=t.productName??"",this.EAN=t.EAN??"",this.productCode=t.codRef??"",this.labelCode=t.label?.number??"",this.predictiveList=[],this.showDropdown=!1}initSearchSubscription(){this.input$.pipe((0,C.B)(300),(0,M.F)(),(0,P.n)(t=>!t||t.trim().length<3?(0,_.of)(null):(this.loading=!0,this.printingLabelsService.postCurrentConsecutive({reference:t.trim()}).pipe((0,E.W)(()=>(this.loading=!1,(0,_.of)(null)))))),(0,m.Q)(this.destroy$)).subscribe(t=>{this.loading=!1,this.predictiveList=t?.msg||[],this.showDropdown=this.predictiveList.length>0})}generateLabels(){if(!this.quantity||this.quantity<=0)return void(this.quantityInvalid=!0);if(this.quantityInvalid=!1,!this.labelCode)return void alert("No se encontr\xf3 consecutivo para la referencia seleccionada.");const t=this.labelCode.length,a=parseInt(this.labelCode,10);this.generatedLabels=[];for(let n=0;n<this.quantity;n++){const o=(a+n).toString().padStart(t,"0");this.generatedLabels.push({number:o,status:"pending"})}this.allCreated=!1,this.printedFromDB=!1,this.idDocumentDB="",this.barcodesFromDB=[],this.gtinBase=""}markAsCreated(){this.generatedLabels=this.generatedLabels.map(t=>({...t,status:"created"})),this.allCreated=!0}clearForm(){this.selectedReference="",this.productName="",this.EAN="",this.productCode="",this.labelCode="",this.quantity=null,this.generatedLabels=[],this.allCreated=!1,this.printedFromDB=!1,this.idDocumentDB="",this.barcodesFromDB=[],this.gtinBase="",this.predictiveList=[],this.errorMessage=""}sendLabelsToPrinting(){if(0===this.generatedLabels.length)return void(this.errorMessage="Debe generar las etiquetas antes de intentar imprimir.");this.printingLoading=!0,this.errorMessage="";const t=this.generatedLabels.length.toString(),a=this.generatedLabels[0].number,n=this.generatedLabels[this.generatedLabels.length-1].number,o=this.generatedLabels.map(s=>({code:s.number})),c={productName:this.productName,EAN:this.EAN,reference:this.selectedReference,codRef:this.productCode,label:{quantityLabels:t,consecutiveStart:a,consecutiveEnd:n,LabelValidation:{PrintedBarcode13:[o,{printedDate:(new Date).toLocaleString(),LabelCount:t}],PrintedBarcode128:[[{code:""}],{printedDate:"",LabelCount:" "}],barcodeReadEAN13:[[{code:""}],{readDate:"",countLabelRead:" "}],barcodeReadEAN128:[[{code:""}],{readDate:"",countLabelRead:" "}]}}};console.log("PAYLOAD ENVIADO AL BACKEND (LabelPrintingRequest):",c),this.printingLabelsService.postLabelPrinting(c).pipe((0,m.Q)(this.destroy$)).subscribe({next:s=>{console.log("Respuesta del backend tras registrar impresi\xf3n:",s.data),this.printingLoading=!1,s.ok?(this.printedFromDB=!0,this.allCreated=!0,this.idDocumentDB=s.data?.id||"",this.barcodesFromDB=(s.data?.labels?.LabelValidation?.PrintedBarcode128.barcodes||[]).map(g=>g.code).filter(g=>!!g),this.barcodesFromDB.length>0&&(this.gtinBase=this.barcodesFromDB[0].substring(0,this.gtinLength)),this.generatedLabels=this.generatedLabels.map(g=>({...g,status:"created"})),this.errorMessage=""):this.errorMessage=s.msg||"Fallo en el registro de impresi\xf3n."},error:s=>{this.printingLoading=!1,this.errorMessage=s?.message||"Error desconocido al comunicarse con el servidor.",console.error("Error al registrar la impresi\xf3n:",s)}})}validateLabels(t){this.printedFromDB&&0!==this.generatedLabels.length?(this.clearModalInputs(!1),this.activeModal=this.modalService.open(t,{size:"lg",centered:!0}),this.activeModal.shown.subscribe(()=>{this.focusScanInput()})):this.errorMessage="Debe generar y registrar la impresi\xf3n de etiquetas (Marcar como Creados) antes de validar."}clearModalInputs(t=!0){this.validatedEAN128=[],this.ean128Input="",this.errorMessage="",t&&alert("Los c\xf3digos EAN-128 le\xeddos han sido limpiados.")}addEAN128(){const t=this.ean128Input.trim();if(t){if(!this.barcodesFromDB.includes(t))return this.toastr.error(`El c\xf3digo [${t}] no pertenece a este lote.`,"Error de Integridad",{timeOut:4e3,progressBar:!0}),this.ean128Input="",void this.focusScanInput();if(this.validatedEAN128.some(a=>a.code===t))return this.toastr.warning("Este c\xf3digo ya fue escaneado.","Duplicado"),this.ean128Input="",void this.focusScanInput();this.validatedEAN128.unshift({code:t}),this.toastr.success("Lectura aceptada","\xc9xito",{timeOut:1e3}),this.ean128Input="",this.focusScanInput()}}focusScanInput(){setTimeout(()=>{this.scanInputRef&&this.scanInputRef.nativeElement.focus()},50)}onEAN128Scan(t){const n=t.target.value.trim(),o=this.gtinLength+this.serialIA.length+(this.generatedLabels[0]?.number?.length||0);o>0&&n.length>=o&&this.addEAN128()}processFinalValidation(t){if(this.validatedEAN128.length!==this.barcodesFromDB.length)return void this.toastr.warning("Cantidad de etiquetas incompleta.","Validaci\xf3n Pendiente");this.loading=!0;const a={id:this.idDocumentDB,labels:{LabelValidation:{barcodeReadEAN128:{barcodes:this.validatedEAN128.map(n=>({code:n.code,status:"Activo"})),validation:{readDate:(new Date).toLocaleString(),countLabelRead:this.validatedEAN128.length,validated:!0}}}}};this.printingLabelsService.postBarcodeReadingScan(a).subscribe({next:n=>{this.loading=!1,n.ok&&(this.toastr.success(`Referencia: ${n.data.codRef} - Validada.`,"Sincronizaci\xf3n Exitosa"),this.generatedLabels=this.generatedLabels.map(o=>({...o,status:"validated"})),t.close())},error:n=>{this.loading=!1,this.toastr.error(n.message,"Error de Servidor")}})}removeEAN128(t){t>=0&&t<this.validatedEAN128.length&&(this.validatedEAN128.splice(t,1),this.focusScanInput())}static{this.\u0275fac=function(a){return new(a||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-barcode-printing"]],viewQuery:function(a,n){if(1&a&&e.GBs(O,5),2&a){let o;e.mGM(o=e.lsd())&&(n.scanInputRef=o.first)}},decls:62,vars:16,consts:[["validationModalContent",""],["scanInput",""],[1,"inventory-container",3,"ngClass"],[1,"header"],[1,"main-content"],[1,"layout-row"],[1,"left-panel-col"],[1,"panel-card"],[1,"panel-header"],[1,"panel-body"],[1,"form-group"],["for","productReference"],[1,"position-relative"],["id","productReference","type","text","placeholder","Escriba c\xf3digo o nombre de referencia","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","blur","ngModel"],["class","spinner","aria-hidden","true",4,"ngIf"],["class","autocomplete-results shadow-lg",4,"ngIf"],["for","productName"],["id","productName","type","text","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["for","EAN"],["id","EAN","type","text","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["for","productCode"],["id","productCode","type","text","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["for","labelCode"],["id","labelCode","type","text","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["for","quantity"],[1,"text-danger"],["id","quantity","type","number","placeholder","Ingrese cantidad de etiquetas","min","1",1,"form-control",3,"ngModelChange","ngModel"],["class","invalid-feedback",4,"ngIf"],[1,"button-group"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"right-panel-col"],[1,"muted"],[1,"panel-body","labels-panel"],["class","placeholder",4,"ngIf"],["class","labels-area",4,"ngIf"],["aria-hidden","true",1,"spinner"],["aria-live","polite",1,"spinner-border","spinner-border-sm","text-primary"],[1,"visually-hidden"],[1,"autocomplete-results","shadow-lg"],["class","autocomplete-item","tabindex","0","role","button",3,"click","keydown.enter",4,"ngFor","ngForOf"],["tabindex","0","role","button",1,"autocomplete-item",3,"click","keydown.enter"],[1,"item-ref"],[1,"item-name","text-muted","small"],[1,"invalid-feedback"],[1,"placeholder"],[1,"labels-area"],[1,"labels-actions"],[1,"left-actions"],[1,"btn","btn-primary",3,"click","disabled"],[1,"btn","btn-info",3,"click","disabled"],[1,"right-actions"],[1,"status-info"],["class","text-danger",4,"ngIf"],["class","text-success",4,"ngIf"],[1,"labels-list-wrapper"],[1,"codes-list","labels-list"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"text-success"],[3,"ngClass"],[1,"code-number"],[1,"code-meta"],[1,"badge",3,"ngClass"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"input-group","mb-4"],["type","text","placeholder","Escanee EAN-128 (Lectura Autom\xe1tica)",1,"form-control","form-control-lg",3,"ngModelChange","keyup","keyup.enter","ngModel"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"mb-0"],["class","list-group codes-read-list mb-3",4,"ngIf"],[1,"d-grid","gap-2","mb-3"],[1,"btn","btn-success","btn-lg",3,"click","disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],[1,"d-grid"],["type","button",1,"btn","btn-danger",3,"click"],[1,"modal-footer"],[1,"list-group","codes-read-list","mb-3"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"code-text"],["title","Eliminar",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm","me-2"]],template:function(a,n){if(1&a){const o=e.RV6();e.j41(0,"div",2)(1,"header",3)(2,"h1"),e.EFF(3,"Impresi\xf3n de Etiquetas a Producci\xf3n"),e.k0s()(),e.j41(4,"div",4)(5,"div",5)(6,"aside",6)(7,"div",7)(8,"div",8)(9,"h2"),e.EFF(10,"Par\xe1metros de Impresi\xf3n"),e.k0s()(),e.j41(11,"div",9)(12,"div",10)(13,"label",11),e.EFF(14,"Referencia en Producci\xf3n (*)"),e.k0s(),e.j41(15,"div",12)(16,"input",13),e.mxI("ngModelChange",function(s){return i.eBV(o),e.DH7(n.selectedReference,s)||(n.selectedReference=s),i.Njj(s)}),e.bIt("input",function(s){return i.eBV(o),i.Njj(n.onReferenceInput(s))})("focus",function(){return i.eBV(o),i.Njj(n.onFocus())})("blur",function(){return i.eBV(o),i.Njj(n.onBlur())}),e.k0s(),e.DNE(17,y,4,0,"div",14)(18,R,2,1,"div",15),e.k0s()(),e.nrm(19,"hr"),e.j41(20,"h3"),e.EFF(21,"Informaci\xf3n de la Referencia"),e.k0s(),e.j41(22,"div",10)(23,"label",16),e.EFF(24,"Nombre Producto"),e.k0s(),e.j41(25,"input",17),e.mxI("ngModelChange",function(s){return i.eBV(o),e.DH7(n.productName,s)||(n.productName=s),i.Njj(s)}),e.k0s()(),e.j41(26,"div",10)(27,"label",18),e.EFF(28,"EAN"),e.k0s(),e.j41(29,"input",19),e.mxI("ngModelChange",function(s){return i.eBV(o),e.DH7(n.EAN,s)||(n.EAN=s),i.Njj(s)}),e.k0s()(),e.j41(30,"div",10)(31,"label",20),e.EFF(32,"C\xf3digo Producto"),e.k0s(),e.j41(33,"input",21),e.mxI("ngModelChange",function(s){return i.eBV(o),e.DH7(n.productCode,s)||(n.productCode=s),i.Njj(s)}),e.k0s()(),e.j41(34,"div",10)(35,"label",22),e.EFF(36,"Consecutivo Producto"),e.k0s(),e.j41(37,"input",23),e.mxI("ngModelChange",function(s){return i.eBV(o),e.DH7(n.labelCode,s)||(n.labelCode=s),i.Njj(s)}),e.k0s()(),e.j41(38,"div",10)(39,"label",24),e.EFF(40,"Cantidad de Etiquetas a Imprimir "),e.j41(41,"span",25),e.EFF(42,"*"),e.k0s()(),e.j41(43,"input",26),e.mxI("ngModelChange",function(s){return i.eBV(o),e.DH7(n.quantity,s)||(n.quantity=s),i.Njj(s)}),e.k0s(),e.DNE(44,D,2,0,"div",27),e.k0s(),e.j41(45,"div",28)(46,"button",29),e.bIt("click",function(){return i.eBV(o),i.Njj(n.clearForm())}),e.EFF(47,"Limpiar"),e.k0s(),e.j41(48,"button",30),e.bIt("click",function(){return i.eBV(o),i.Njj(n.generateLabels())}),e.EFF(49,"Generar Impresi\xf3n"),e.k0s()()()()(),e.j41(50,"main",31)(51,"div",7)(52,"div",8)(53,"h2"),e.EFF(54,"Etiquetas Generadas "),e.j41(55,"small",32),e.EFF(56),e.k0s()()(),e.j41(57,"div",33),e.DNE(58,I,2,0,"div",34)(59,w,15,6,"div",35),e.k0s()()()()()(),e.DNE(60,G,33,14,"ng-template",null,0,e.C5r)}2&a&&(e.Y8G("ngClass",e.eq3(14,B,n.loading)),e.R7$(16),e.R50("ngModel",n.selectedReference),e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("ngIf",n.predictiveList.length>0&&n.showDropdown),e.R7$(7),e.R50("ngModel",n.productName),e.R7$(4),e.R50("ngModel",n.EAN),e.R7$(4),e.R50("ngModel",n.productCode),e.R7$(4),e.R50("ngModel",n.labelCode),e.R7$(6),e.R50("ngModel",n.quantity),e.R7$(),e.Y8G("ngIf",n.quantityInvalid),e.R7$(4),e.Y8G("disabled",!n.selectedReference||!n.quantity||n.quantity<=0),e.R7$(8),e.SpI("(",n.generatedLabels.length,")"),e.R7$(2),e.Y8G("ngIf",0===n.generatedLabels.length),e.R7$(),e.Y8G("ngIf",n.generatedLabels.length>0))},dependencies:[p.MD,p.YU,p.Sq,p.bT,u.YN,u.me,u.Q0,u.BC,u.VZ,u.vS,h.XZ],styles:['@import"https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap";@charset "UTF-8";.inventory-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;font-family:Inter,sans-serif;background:#f5f7fa}.header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#87d1e6,#036);color:#fff;padding:1.5rem 2rem;text-align:center;font-weight:600;font-size:1.8rem;box-shadow:0 4px 8px #0000001f}.main-content[_ngcontent-%COMP%]{flex:1;display:flex;padding:2rem;gap:2rem;max-width:1200px;margin:0 auto;width:100%}.layout-row[_ngcontent-%COMP%]{display:flex;gap:2rem;width:100%;align-items:flex-start}.left-panel-col[_ngcontent-%COMP%]{flex:0 0 320px;max-width:340px}.right-panel-col[_ngcontent-%COMP%]{flex:1 1 auto;min-width:480px}.panel-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:0;box-shadow:0 8px 20px #0000000f;display:flex;flex-direction:column;overflow:hidden}.panel-header[_ngcontent-%COMP%]{padding:1.2rem 1.4rem;border-bottom:1px solid #eef4ff;background:linear-gradient(90deg,#4b6cb70f,#4b6cb705)}.panel-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.05rem;color:#182848}.panel-body[_ngcontent-%COMP%]{padding:1.2rem 1.4rem;display:flex;flex-direction:column;gap:.9rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.5rem;display:block;color:#4b6cb7;font-size:.95rem}.form-control[_ngcontent-%COMP%]{border-radius:8px;padding:.7rem .9rem;border:1px solid #d6dde8;font-size:.95rem;background:#fff}.form-control[readonly][_ngcontent-%COMP%]{background:#f4f7fb;color:#5b6b84}.position-relative[_ngcontent-%COMP%]{position:relative}.autocomplete-results[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 6px);left:0;right:0;z-index:999;background:#fff;border-radius:8px;border:1px solid #e6eefc;overflow-y:auto;max-height:220px;box-shadow:0 6px 14px #1e326414}.autocomplete-item[_ngcontent-%COMP%]{padding:10px 14px;cursor:pointer;border-bottom:1px solid #f1f5fb}.autocomplete-item[_ngcontent-%COMP%]:hover{background:#f0f4ff}.item-ref[_ngcontent-%COMP%]{font-weight:700;color:#182848}.item-name[_ngcontent-%COMP%]{color:#6b7280}.spinner[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%)}.button-group[_ngcontent-%COMP%]{display:flex;gap:.8rem;margin-top:.6rem}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:.65rem 1rem;border-radius:8px;font-weight:600;cursor:pointer;border:none;min-width:120px}.btn-primary[_ngcontent-%COMP%]{background:#4b6cb7;color:#fff;box-shadow:0 6px 16px #4b6cb72e}.btn-secondary[_ngcontent-%COMP%]{background:#a0aec0;color:#fff;box-shadow:0 6px 14px #a0aec024}.labels-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;min-height:360px}.labels-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1rem;padding-bottom:.5rem;border-bottom:1px dashed #eef4ff}.labels-actions[_ngcontent-%COMP%]   .left-actions[_ngcontent-%COMP%]{display:flex;gap:.8rem}.labels-actions[_ngcontent-%COMP%]   .right-actions[_ngcontent-%COMP%]{color:#55607a;font-weight:600;font-size:.95rem}.labels-list-wrapper[_ngcontent-%COMP%]{margin-top:.6rem;flex:1 1 auto;overflow:hidden}.labels-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;max-height:420px;overflow-y:auto;border:1px solid #e7effb;border-radius:8px;background:#fbfdff}.labels-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.9rem 1rem;border-bottom:1px solid #eef4ff;font-family:Roboto Mono,monospace;color:#1f2937}.labels-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.code-number[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:#182848}.code-meta[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.35rem .6rem;border-radius:999px;font-size:.78rem;font-weight:700;color:#fff}.badge-created[_ngcontent-%COMP%]{background:#28a745}.badge-validated[_ngcontent-%COMP%]{background:#17a2b8}.placeholder[_ngcontent-%COMP%]{color:#9aa7bd;font-style:italic;text-align:center;padding:3rem 1rem;background:linear-gradient(180deg,rgba(75,108,183,.02),transparent);border-radius:8px}@media (max-width: 900px){.main-content[_ngcontent-%COMP%]{padding:1rem}.layout-row[_ngcontent-%COMP%]{flex-direction:column}.left-panel-col[_ngcontent-%COMP%], .right-panel-col[_ngcontent-%COMP%]{flex:1 1 auto;max-width:100%}.labels-list[_ngcontent-%COMP%]{max-height:260px}}.autocomplete-results[_ngcontent-%COMP%]{z-index:1200;max-height:260px;box-shadow:0 8px 22px #1e32641f}.left-panel-col[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.2rem}.form-control[_ngcontent-%COMP%]{min-height:44px}.labels-list[_ngcontent-%COMP%]   li.error[_ngcontent-%COMP%]   .code-number[_ngcontent-%COMP%]{color:#dc3545}.labels-list[_ngcontent-%COMP%]   li.pending[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#6c757d}.labels-list[_ngcontent-%COMP%]   li.pending[_ngcontent-%COMP%]   .code-number[_ngcontent-%COMP%]{color:#55607a}.text-warning[_ngcontent-%COMP%]{color:#ffc107!important}.labels-list[_ngcontent-%COMP%]   li.missing[_ngcontent-%COMP%]{background-color:#fff8e1}.labels-list[_ngcontent-%COMP%]   li.missing[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#ffc107;color:#343a40}.labels-list[_ngcontent-%COMP%]   li.missing[_ngcontent-%COMP%]   .code-number[_ngcontent-%COMP%]{color:#ffc107}.labels-list[_ngcontent-%COMP%]   li.error[_ngcontent-%COMP%]{background-color:#fcebeb}.labels-list[_ngcontent-%COMP%]   li.error[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#dc3545}.labels-list[_ngcontent-%COMP%]   li.error[_ngcontent-%COMP%]   .code-number[_ngcontent-%COMP%]{color:#dc3545;font-weight:700}.text-success[_ngcontent-%COMP%]{color:#28a745!important}.text-danger[_ngcontent-%COMP%]{color:#dc3545!important}.badge.bg-info[_ngcontent-%COMP%]{background-color:#87d1e6!important;color:#036!important;font-weight:700}.list-group.codes-read-list[_ngcontent-%COMP%]{border:1px solid #d6dde8;border-radius:8px;background:#f4f7fb;padding:0}.codes-read-list[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #eef4ff;padding:.5rem 1rem;background-color:transparent}.codes-read-list[_ngcontent-%COMP%]   .code-text[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;font-size:.9rem;font-weight:600;color:#182848}.btn-success[_ngcontent-%COMP%]{background:#28a745;border-color:#28a745}.btn-danger[_ngcontent-%COMP%]{background:#dc3545;border-color:#dc3545}']})}}return r})()}}]);