"use strict";(self.webpackChunkfree_version=self.webpackChunkfree_version||[]).push([[76],{152:(f,u,a)=>{a.d(u,{B:()=>c});var d=a(3236),E=a(9974),h=a(4360);function c(s,n=d.E){return(0,E.N)((p,r)=>{let t=null,e=null,o=null;const l=()=>{if(t){t.unsubscribe(),t=null;const i=e;e=null,r.next(i)}};function O(){const i=o+s,_=n.now();if(_<i)return t=this.schedule(void 0,i-_),void r.add(t);l()}p.subscribe((0,h._)(r,i=>{e=i,o=n.now(),t||(t=n.schedule(O,s),r.add(t))},()=>{l(),r.complete()},void 0,()=>{e=t=null}))})}},4061:(f,u,a)=>{a.d(u,{s:()=>p});var d=a(8728),E=a(9330),h=a(8810),c=a(9437),s=a(6354),n=a(2525);let p=(()=>{class r{constructor(){this.http=(0,d.WQX)(E.Qq),this.BASE_URL=n.c.backendUrl,this.PRODUCTION_NEWS_ENDPOINT=`${this.BASE_URL}/api/v1/assembly/productionNews`,this.WAREHOUSE_NEWS_ENDPOINT=`${this.BASE_URL}/api/v1/storage/newsWarehouse`}handleError(e){console.error("NewsServices: Error en la petici\xf3n:",e);let o="Ocurri\xf3 un error desconocido en el servicio.";return e.error&&e.error.msg?o=e.error.msg:e.message&&(o=e.message),(0,h.$)(()=>new Error(`Fall\xf3 la consulta al backend: ${o}`))}createProductionNews(e){return console.log("NEWS SERVICES - CONTROL: Petici\xf3n a productionNews con body:",e),this.http.post(this.PRODUCTION_NEWS_ENDPOINT,e).pipe((0,c.W)(this.handleError.bind(this)),(0,s.T)(o=>(console.log("NEWS SERVICES - CONTROL: Respuesta del backend (productionNews):",o),o)))}createWarehouseNews(e){return console.log("NEWS SERVICES - CONTROL: Petici\xf3n a newsWarehouse con body:",e),this.http.post(this.WAREHOUSE_NEWS_ENDPOINT,e).pipe((0,c.W)(this.handleError.bind(this)),(0,s.T)(o=>(console.log("NEWS SERVICES - CONTROL: Respuesta del backend (newsWarehouse):",o),o)))}validateProductionNews(e){const o=[];return e.newsDate||o.push("La fecha de novedad es obligatoria"),e.category||o.push("La categor\xeda es obligatoria"),e.assemblyLine||o.push("La l\xednea de ensamble es obligatoria"),e.detail||o.push("El detalle es obligatorio"),("Parada de Linea"===e.category||"Parada de L\xednea"===e.category)&&(e.stopType||o.push("El tipo de parada es obligatorio para Parada de L\xednea"),e.startTime||o.push("La hora de inicio es obligatoria para Parada de L\xednea"),e.endTime||o.push("La hora de fin es obligatoria para Parada de L\xednea"),e.totalTime||o.push("El tiempo total es obligatorio para Parada de L\xednea")),{valid:0===o.length,errors:o}}validateWarehouseNews(e){const o=[];e.newsDate||o.push("La fecha de novedad es obligatoria"),e.category||o.push("La categor\xeda es obligatoria"),e.reference||o.push("La referencia del producto es obligatoria"),e.reportedAmount||o.push("La cantidad reportada es obligatoria"),e.description||o.push("La descripci\xf3n es obligatoria");const l=parseInt(e.reportedAmount);return(isNaN(l)||l<=0)&&o.push("La cantidad reportada debe ser un n\xfamero mayor a 0"),e.description&&e.description.trim().length<10&&o.push("La descripci\xf3n debe tener al menos 10 caracteres"),{valid:0===o.length,errors:o}}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275prov=d.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})()}}]);