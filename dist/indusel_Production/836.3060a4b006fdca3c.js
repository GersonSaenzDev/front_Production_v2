"use strict";(self.webpackChunkfree_version=self.webpackChunkfree_version||[]).push([[836],{836:(q,f,c)=>{c.r(f),c.d(f,{BarcodePrinting:()=>S});var m=c(2200),i=c(8728),p=c(4341),h=c(8652),b=c(1413),C=c(7673),P=c(9437),v=c(152),E=c(3294),F=c(5558),M=c(6977),O=c(7758),e=c(3664);const x=["scanInput"],B=a=>({loading:a}),j=(a,l,t,s)=>({"badge-created":a,"badge-validated":l,"badge-missing":t,"badge-error":s});function y(a,l){1&a&&(e.j41(0,"div",37),e.nrm(1,"div",38),e.k0s())}function k(a,l){if(1&a){const t=e.RV6();e.j41(0,"div",41),e.bIt("click",function(){const n=i.eBV(t).$implicit,o=e.XpG(2);return i.Njj(o.selectReference(n))}),e.j41(1,"div",42)(2,"strong"),e.EFF(3),e.k0s()(),e.j41(4,"div",43),e.EFF(5),e.k0s()()}if(2&a){const t=l.$implicit;e.R7$(3),e.JRh(t.reference),e.R7$(2),e.JRh(t.productName)}}function I(a,l){if(1&a&&(e.j41(0,"div",39),e.DNE(1,k,6,2,"div",40),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.predictiveList)}}function R(a,l){1&a&&(e.j41(0,"div",44),e.EFF(1," La cantidad de etiquetas es obligatoria. "),e.k0s())}function L(a,l){1&a&&(e.j41(0,"div",45),e.EFF(1," Ingrese una referencia y cantidad para generar las etiquetas "),e.k0s())}function N(a,l){}function D(a,l){1&a&&(e.j41(0,"strong",25),e.EFF(1,"Pendiente"),e.k0s())}function A(a,l){1&a&&(e.j41(0,"strong",57),e.EFF(1,"Creado (Listo para Validar)"),e.k0s())}function T(a,l){if(1&a&&(e.j41(0,"li",58)(1,"div",59),e.EFF(2),e.k0s(),e.j41(3,"div",60)(4,"span",61),e.EFF(5),e.k0s()()()),2&a){const t=l.$implicit;e.Y8G("ngClass",t.status),e.R7$(2),e.JRh(t.number),e.R7$(2),e.Y8G("ngClass",e.ziG(4,j,"created"===t.status,"validated"===t.status,"missing"===t.status,"error"===t.status)),e.R7$(),e.SpI(" ","validated"===t.status?"Le\xeddo":"created"===t.status?"Creado":"missing"===t.status?"Faltante":"error"===t.status?"Error":"Pendiente"," ")}}function w(a,l){if(1&a){const t=e.RV6();e.j41(0,"div",46)(1,"div",47)(2,"div",48)(3,"button",49),e.bIt("click",function(){i.eBV(t);const n=e.XpG();return i.Njj(n.sendLabelsToPrinting())}),e.EFF(4),e.k0s(),e.DNE(5,N,0,0,"ng-template",null,0,e.C5r),e.k0s(),e.j41(7,"div",50)(8,"span",51),e.EFF(9,"Estado: "),e.DNE(10,D,2,0,"strong",52)(11,A,2,0,"strong",53),e.k0s()()(),e.j41(12,"div",54)(13,"ul",55),e.DNE(14,T,6,9,"li",56),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(3),e.Y8G("disabled",t.printedFromDB),e.R7$(),e.SpI(" ",t.printedFromDB?"Reimprimir Etiquetas":"Marcar como Creados"," "),e.R7$(6),e.Y8G("ngIf",!t.printedFromDB),e.R7$(),e.Y8G("ngIf",t.printedFromDB),e.R7$(3),e.Y8G("ngForOf",t.generatedLabels)}}function V(a,l){if(1&a){const t=e.RV6();e.j41(0,"div",79)(1,"span",80),e.EFF(2),e.k0s(),e.j41(3,"button",81),e.bIt("click",function(){const n=i.eBV(t).index,o=e.XpG(2);return i.Njj(o.removeEAN128(n))}),e.EFF(4," [Borrar] "),e.k0s()()}if(2&a){const t=l.$implicit;e.R7$(2),e.JRh(t.code)}}function $(a,l){1&a&&(e.j41(0,"div",82),e.EFF(1," Escanee c\xf3digos para empezar. "),e.k0s())}function G(a,l){if(1&a){const t=e.RV6();e.j41(0,"div",62)(1,"h4",63),e.EFF(2,"Contador y Validaci\xf3n de C\xf3digos"),e.k0s(),e.j41(3,"button",64),e.bIt("click",function(){const n=i.eBV(t).$implicit;return i.Njj(n.dismiss("Cancel"))}),e.k0s()(),e.j41(4,"div",65)(5,"p"),e.EFF(6,"Etiquetas Generadas (EAN-128): "),e.j41(7,"strong"),e.EFF(8),e.k0s()(),e.nrm(9,"hr"),e.j41(10,"h4"),e.EFF(11,"Escanear C\xf3digos (EAN-128)"),e.k0s(),e.j41(12,"div",66)(13,"input",67,1),e.mxI("ngModelChange",function(n){i.eBV(t);const o=e.XpG();return e.DH7(o.ean128Input,n)||(o.ean128Input=n),i.Njj(n)}),e.bIt("keyup",function(n){i.eBV(t);const o=e.XpG();return i.Njj(o.onEAN128Scan(n))})("keyup.enter",function(){i.eBV(t);const n=e.XpG();return i.Njj(n.addEAN128())}),e.k0s()(),e.j41(15,"div",68)(16,"h5",69),e.EFF(17,"C\xf3digos Le\xeddos: "),e.j41(18,"strong"),e.EFF(19),e.k0s()(),e.j41(20,"span",70),e.EFF(21),e.k0s()(),e.j41(22,"div",71),e.DNE(23,V,5,1,"div",72)(24,$,2,0,"div",73),e.k0s(),e.nrm(25,"hr"),e.j41(26,"div",74)(27,"button",75),e.bIt("click",function(){const n=i.eBV(t).$implicit,o=e.XpG();return i.Njj(o.processFinalValidation(n))}),e.EFF(28," Procesar Validaci\xf3n Final "),e.k0s()(),e.j41(29,"div",76)(30,"button",77),e.bIt("click",function(){i.eBV(t);const n=e.XpG();return i.Njj(n.clearModalInputs())}),e.EFF(31," Limpiar Lecturas "),e.k0s()()(),e.j41(32,"div",78)(33,"button",29),e.bIt("click",function(){const n=i.eBV(t).$implicit;return i.Njj(n.dismiss("Cerrar"))}),e.EFF(34,"Cerrar"),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(8),e.JRh(t.generatedLabels.length),e.R7$(5),e.R50("ngModel",t.ean128Input),e.R7$(5),e.AVh("text-success",t.validatedEAN128.length===t.generatedLabels.length),e.R7$(),e.JRh(t.validatedEAN128.length),e.R7$(2),e.SpI(" Faltan: ",t.generatedLabels.length-t.validatedEAN128.length>0?t.generatedLabels.length-t.validatedEAN128.length:0," "),e.R7$(2),e.Y8G("ngForOf",t.validatedEAN128),e.R7$(),e.Y8G("ngIf",0===t.validatedEAN128.length),e.R7$(3),e.Y8G("disabled",t.validatedEAN128.length<t.generatedLabels.length)}}let S=(()=>{class a{constructor(){this.printingLabelsService=(0,i.WQX)(O.e),this.modalService=(0,i.WQX)(h.Bq),this.selectedReference="",this.productName="",this.EAN="",this.productCode="",this.labelCode="",this.quantity=null,this.quantityInvalid=!1,this.loading=!1,this.showDropdown=!1,this.predictiveList=[],this.generatedLabels=[],this.printedFromDB=!1,this.idDocumentDB="",this.barcodesFromDB=[],this.allCreated=!1,this.gtinBase="",this.gtinLength=16,this.serialIA="21",this.errorMessage="",this.printingLoading=!1,this.ean13Input="",this.ean128Input="",this.validatedEAN13=[],this.validatedEAN128=[],this.input$=new b.B,this.destroy$=new b.B}ngOnInit(){this.input$.pipe((0,v.B)(300),(0,E.F)(),(0,F.n)(t=>{const s=(t??"").trim();if(!s||s.length<3)return(0,C.of)(null);this.loading=!0;const n={reference:s};return console.log("Consultando referencia:",n),this.printingLabelsService.postCurrentConsecutive(n).pipe((0,P.W)(o=>(console.error("postCurrentConsecutive error:",o),this.errorMessage=o?.message||"Error al consultar referencia",(0,C.of)(null))))}),(0,M.Q)(this.destroy$)).subscribe(t=>{this.loading=!1,this.predictiveList=[],t?(this.predictiveList=Array.isArray(t)?t:Array.isArray(t.msg)?t.msg:t.msg&&t.msg._id?[t.msg]:t._id?[t]:[],this.showDropdown=this.predictiveList.length>0):this.showDropdown=!1})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.input$.complete()}onReferenceInput(t){const s=t?.target?.value??"";this.selectedReference=s,this.errorMessage="",this.input$.next(s)}onFocus(){this.predictiveList.length>0&&(this.showDropdown=!0)}onBlur(){setTimeout(()=>this.showDropdown=!1,180)}selectReference(t){this.selectedReference=t.codRef??t.reference??this.selectedReference,this.productName=t.productName??"",this.EAN=t.EAN??"",this.productCode=t.codRef??"",this.labelCode=t.label?.number??"",this.predictiveList=[],this.showDropdown=!1}generateLabels(){if(!this.quantity||this.quantity<=0)return void(this.quantityInvalid=!0);if(this.quantityInvalid=!1,!this.labelCode)return void alert("No se encontr\xf3 consecutivo para la referencia seleccionada.");const t=this.labelCode.length,s=parseInt(this.labelCode,10);this.generatedLabels=[];for(let n=0;n<this.quantity;n++){const o=(s+n).toString().padStart(t,"0");this.generatedLabels.push({number:o,status:"pending"})}this.allCreated=!1,this.printedFromDB=!1,this.idDocumentDB="",this.barcodesFromDB=[],this.gtinBase=""}markAsCreated(){this.generatedLabels=this.generatedLabels.map(t=>({...t,status:"created"})),this.allCreated=!0}clearForm(){this.selectedReference="",this.productName="",this.EAN="",this.productCode="",this.labelCode="",this.quantity=null,this.generatedLabels=[],this.allCreated=!1,this.printedFromDB=!1,this.idDocumentDB="",this.barcodesFromDB=[],this.gtinBase="",this.predictiveList=[],this.errorMessage=""}sendLabelsToPrinting(){if(0===this.generatedLabels.length)return void(this.errorMessage="Debe generar las etiquetas antes de intentar imprimir.");this.printingLoading=!0,this.errorMessage="";const t=this.generatedLabels.length.toString(),s=this.generatedLabels[0].number,n=this.generatedLabels[this.generatedLabels.length-1].number,o=this.generatedLabels.map(r=>({code:r.number})),d={productName:this.productName,EAN:this.EAN,reference:this.selectedReference,codRef:this.productCode,label:{quantityLabels:t,consecutiveStart:s,consecutiveEnd:n,LabelValidation:{PrintedBarcode13:[o,{printedDate:(new Date).toLocaleString(),LabelCount:t}],PrintedBarcode128:[[{code:""}],{printedDate:"",LabelCount:" "}],barcodeReadEAN13:[[{code:""}],{readDate:"",countLabelRead:" "}],barcodeReadEAN128:[[{code:""}],{readDate:"",countLabelRead:" "}]}}};console.log("PAYLOAD ENVIADO AL BACKEND (LabelPrintingRequest):",d),this.printingLabelsService.postLabelPrinting(d).pipe((0,M.Q)(this.destroy$)).subscribe({next:r=>{this.printingLoading=!1,r.ok?(this.printedFromDB=!0,this.allCreated=!0,this.idDocumentDB=r.data?.id||"",this.barcodesFromDB=(r.data?.labels?.LabelValidation?.PrintedBarcode128.barcodes||[]).map(g=>g.code).filter(g=>!!g),this.barcodesFromDB.length>0&&(this.gtinBase=this.barcodesFromDB[0].substring(0,this.gtinLength)),this.generatedLabels=this.generatedLabels.map(g=>({...g,status:"created"})),this.errorMessage=""):this.errorMessage=r.msg||"Fallo en el registro de impresi\xf3n."},error:r=>{this.printingLoading=!1,this.errorMessage=r?.message||"Error desconocido al comunicarse con el servidor.",console.error("Error al registrar la impresi\xf3n:",r)}})}validateLabels(t){this.printedFromDB&&0!==this.generatedLabels.length?(this.clearModalInputs(!1),this.activeModal=this.modalService.open(t,{size:"lg",centered:!0}),this.activeModal.shown.subscribe(()=>{this.focusScanInput()})):this.errorMessage="Debe generar y registrar la impresi\xf3n de etiquetas (Marcar como Creados) antes de validar."}clearModalInputs(t=!0){this.validatedEAN128=[],this.ean128Input="",this.errorMessage="",t&&alert("Los c\xf3digos EAN-128 le\xeddos han sido limpiados.")}addEAN13(){const t=this.ean13Input.trim();t&&(this.validatedEAN13.some(s=>s.code===t)||this.validatedEAN13.push({code:t}),this.ean13Input="")}addEAN128(){const t=this.ean128Input.trim();if(t){if(!this.gtinBase||0===this.generatedLabels.length)return alert("Error de estado: La informaci\xf3n de la impresi\xf3n no est\xe1 cargada para validar el formato EAN-128."),this.ean128Input="",void this.focusScanInput();this.validatedEAN128.some(s=>s.code===t)?console.log("El c\xf3digo ya ha sido escaneado"):this.validatedEAN128.unshift({code:t}),this.ean128Input="",this.focusScanInput()}}focusScanInput(){setTimeout(()=>{this.scanInputRef&&this.scanInputRef.nativeElement.focus()},50)}onEAN128Scan(t){const n=t.target.value.trim(),o=this.gtinLength+this.serialIA.length+(this.generatedLabels[0]?.number?.length||0);o>0&&n.length>=o&&this.addEAN128()}processFinalValidation(t){if(!this.printedFromDB||0===this.generatedLabels.length)return void alert("Error de estado: No hay etiquetas registradas para validar.");this.errorMessage="";const s=new Set(this.validatedEAN128.map(u=>u.code)),n=[];let o=0,d=0;for(const u of this.generatedLabels){const g=u.number,_=this.barcodesFromDB.find(Y=>Y.endsWith(this.serialIA+g));_?s.has(_)?(n.push({...u,status:"validated"}),s.delete(_),d++):(n.push({...u,status:"missing"}),o++):n.push({...u,status:"error"})}this.generatedLabels=n;const r=s.size;0===o&&0===r?(alert("\xa1Validaci\xf3n exitosa! Todos los c\xf3digos han sido le\xeddos y coinciden."),this.activeModal.close("Validaci\xf3n Procesada"),this.activeModal=null):(alert(`Validaci\xf3n completada. C\xf3digos Le\xeddos: ${d}, Faltantes: ${o}, C\xf3digos Inv\xe1lidos/Sobrantes: ${r}. Revise la lista.`),this.activeModal.dismiss("Validaci\xf3n Procesada con Fallas"))}removeEAN128(t){t>=0&&t<this.validatedEAN128.length&&(this.validatedEAN128.splice(t,1),this.focusScanInput())}static{this.\u0275fac=function(s){return new(s||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-barcode-printing"]],viewQuery:function(s,n){if(1&s&&e.GBs(x,5),2&s){let o;e.mGM(o=e.lsd())&&(n.scanInputRef=o.first)}},decls:64,vars:17,consts:[["validationModalContent",""],["scanInput",""],[1,"inventory-container",3,"ngClass"],[1,"header"],[1,"main-content"],[1,"layout-row"],[1,"left-panel-col"],[1,"panel-card"],[1,"panel-header"],[1,"panel-body"],[1,"form-group"],["for","productReference"],[1,"position-relative"],["id","productReference","type","text","placeholder","Escriba c\xf3digo o nombre de referencia","autocomplete","off",1,"form-control",3,"ngModelChange","input","focus","blur","ngModel"],["class","spinner","aria-hidden","true",4,"ngIf"],["class","autocomplete-results shadow-lg",4,"ngIf"],["for","productName"],["id","productName","type","text","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["for","EAN"],["id","EAN","type","text","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["for","productCode"],["id","productCode","type","text","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["for","labelCode"],["id","labelCode","type","text","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["for","quantity"],[1,"text-danger"],["id","quantity","type","number","placeholder","Ingrese cantidad de etiquetas","min","1",1,"form-control",3,"ngModelChange","ngModel"],["class","invalid-feedback",4,"ngIf"],[1,"button-group"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"btn","btn-info",3,"click","disabled"],[1,"right-panel-col"],[1,"muted"],[1,"panel-body","labels-panel"],["class","placeholder",4,"ngIf"],["class","labels-area",4,"ngIf"],["aria-hidden","true",1,"spinner"],["role","status",1,"spinner-border","spinner-border-sm","text-primary"],[1,"autocomplete-results","shadow-lg"],["class","autocomplete-item",3,"click",4,"ngFor","ngForOf"],[1,"autocomplete-item",3,"click"],[1,"item-ref"],[1,"item-name","text-muted","small"],[1,"invalid-feedback"],[1,"placeholder"],[1,"labels-area"],[1,"labels-actions"],[1,"left-actions"],[1,"btn","btn-primary",3,"click","disabled"],[1,"right-actions"],[1,"status-info"],["class","text-danger",4,"ngIf"],["class","text-success",4,"ngIf"],[1,"labels-list-wrapper"],[1,"codes-list","labels-list"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"text-success"],[3,"ngClass"],[1,"code-number"],[1,"code-meta"],[1,"badge",3,"ngClass"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"input-group","mb-4"],["type","text","placeholder","Escanee EAN-128 (Lectura Autom\xe1tica)",1,"form-control","form-control-lg",3,"ngModelChange","keyup","keyup.enter","ngModel"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"mb-0"],[1,"badge","bg-info","text-dark"],[1,"list-group","codes-read-list",2,"max-height","250px","overflow-y","auto"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],["class","list-group-item text-center text-muted",4,"ngIf"],[1,"d-grid","gap-2","mb-3"],[1,"btn","btn-success","btn-lg",3,"click","disabled"],[1,"d-grid"],["type","button",1,"btn","btn-danger",3,"click"],[1,"modal-footer"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"text-truncate","code-text"],[1,"btn","btn-sm","btn-outline-danger","ms-3",3,"click"],[1,"list-group-item","text-center","text-muted"]],template:function(s,n){if(1&s){const o=e.RV6();e.j41(0,"div",2)(1,"header",3)(2,"h1"),e.EFF(3,"Impresi\xf3n de Etiquetas a Producci\xf3n"),e.k0s()(),e.j41(4,"div",4)(5,"div",5)(6,"aside",6)(7,"div",7)(8,"div",8)(9,"h2"),e.EFF(10,"Par\xe1metros de Impresi\xf3n"),e.k0s()(),e.j41(11,"div",9)(12,"div",10)(13,"label",11),e.EFF(14,"Referencia en Producci\xf3n (*)"),e.k0s(),e.j41(15,"div",12)(16,"input",13),e.mxI("ngModelChange",function(r){return i.eBV(o),e.DH7(n.selectedReference,r)||(n.selectedReference=r),i.Njj(r)}),e.bIt("input",function(r){return i.eBV(o),i.Njj(n.onReferenceInput(r))})("focus",function(){return i.eBV(o),i.Njj(n.onFocus())})("blur",function(){return i.eBV(o),i.Njj(n.onBlur())}),e.k0s(),e.DNE(17,y,2,0,"div",14)(18,I,2,1,"div",15),e.k0s()(),e.nrm(19,"hr"),e.j41(20,"h3"),e.EFF(21,"Informaci\xf3n de la Referencia"),e.k0s(),e.j41(22,"div",10)(23,"label",16),e.EFF(24,"Nombre Producto"),e.k0s(),e.j41(25,"input",17),e.mxI("ngModelChange",function(r){return i.eBV(o),e.DH7(n.productName,r)||(n.productName=r),i.Njj(r)}),e.k0s()(),e.j41(26,"div",10)(27,"label",18),e.EFF(28,"EAN"),e.k0s(),e.j41(29,"input",19),e.mxI("ngModelChange",function(r){return i.eBV(o),e.DH7(n.EAN,r)||(n.EAN=r),i.Njj(r)}),e.k0s()(),e.j41(30,"div",10)(31,"label",20),e.EFF(32,"C\xf3digo Producto"),e.k0s(),e.j41(33,"input",21),e.mxI("ngModelChange",function(r){return i.eBV(o),e.DH7(n.productCode,r)||(n.productCode=r),i.Njj(r)}),e.k0s()(),e.j41(34,"div",10)(35,"label",22),e.EFF(36,"Consecutivo Producto"),e.k0s(),e.j41(37,"input",23),e.mxI("ngModelChange",function(r){return i.eBV(o),e.DH7(n.labelCode,r)||(n.labelCode=r),i.Njj(r)}),e.k0s()(),e.j41(38,"div",10)(39,"label",24),e.EFF(40,"Cantidad de Etiquetas a Imprimir "),e.j41(41,"span",25),e.EFF(42,"*"),e.k0s()(),e.j41(43,"input",26),e.mxI("ngModelChange",function(r){return i.eBV(o),e.DH7(n.quantity,r)||(n.quantity=r),i.Njj(r)}),e.k0s(),e.DNE(44,R,2,0,"div",27),e.k0s(),e.j41(45,"div",28)(46,"button",29),e.bIt("click",function(){return i.eBV(o),i.Njj(n.clearForm())}),e.EFF(47,"Limpiar"),e.k0s(),e.j41(48,"button",30),e.bIt("click",function(){return i.eBV(o),i.Njj(n.generateLabels())}),e.EFF(49,"Generar Impresi\xf3n"),e.k0s()(),e.j41(50,"button",31),e.bIt("click",function(){i.eBV(o);const r=e.sdS(63);return i.Njj(n.validateLabels(r))}),e.EFF(51,"Validar"),e.k0s()()()(),e.j41(52,"main",32)(53,"div",7)(54,"div",8)(55,"h2"),e.EFF(56,"Etiquetas Generadas "),e.j41(57,"small",33),e.EFF(58),e.k0s()()(),e.j41(59,"div",34),e.DNE(60,L,2,0,"div",35)(61,w,15,5,"div",36),e.k0s()()()()()(),e.DNE(62,G,35,9,"ng-template",null,0,e.C5r)}2&s&&(e.Y8G("ngClass",e.eq3(15,B,n.loading)),e.R7$(16),e.R50("ngModel",n.selectedReference),e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("ngIf",n.predictiveList.length>0&&n.showDropdown),e.R7$(7),e.R50("ngModel",n.productName),e.R7$(4),e.R50("ngModel",n.EAN),e.R7$(4),e.R50("ngModel",n.productCode),e.R7$(4),e.R50("ngModel",n.labelCode),e.R7$(6),e.R50("ngModel",n.quantity),e.R7$(),e.Y8G("ngIf",n.quantityInvalid),e.R7$(4),e.Y8G("disabled",!n.selectedReference||!n.quantity||n.quantity<=0),e.R7$(2),e.Y8G("disabled",!n.allCreated),e.R7$(8),e.SpI("(",n.generatedLabels.length,")"),e.R7$(2),e.Y8G("ngIf",0===n.generatedLabels.length),e.R7$(),e.Y8G("ngIf",n.generatedLabels.length>0))},dependencies:[m.MD,m.YU,m.Sq,m.bT,p.YN,p.me,p.Q0,p.BC,p.VZ,p.vS,h.XZ],styles:['@import"https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap";@charset "UTF-8";.inventory-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;font-family:Inter,sans-serif;background:#f5f7fa}.header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#87d1e6,#036);color:#fff;padding:1.5rem 2rem;text-align:center;font-weight:600;font-size:1.8rem;box-shadow:0 4px 8px #0000001f}.main-content[_ngcontent-%COMP%]{flex:1;display:flex;padding:2rem;gap:2rem;max-width:1200px;margin:0 auto;width:100%}.layout-row[_ngcontent-%COMP%]{display:flex;gap:2rem;width:100%;align-items:flex-start}.left-panel-col[_ngcontent-%COMP%]{flex:0 0 320px;max-width:340px}.right-panel-col[_ngcontent-%COMP%]{flex:1 1 auto;min-width:480px}.panel-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:0;box-shadow:0 8px 20px #0000000f;display:flex;flex-direction:column;overflow:hidden}.panel-header[_ngcontent-%COMP%]{padding:1.2rem 1.4rem;border-bottom:1px solid #eef4ff;background:linear-gradient(90deg,#4b6cb70f,#4b6cb705)}.panel-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.05rem;color:#182848}.panel-body[_ngcontent-%COMP%]{padding:1.2rem 1.4rem;display:flex;flex-direction:column;gap:.9rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.5rem;display:block;color:#4b6cb7;font-size:.95rem}.form-control[_ngcontent-%COMP%]{border-radius:8px;padding:.7rem .9rem;border:1px solid #d6dde8;font-size:.95rem;background:#fff}.form-control[readonly][_ngcontent-%COMP%]{background:#f4f7fb;color:#5b6b84}.position-relative[_ngcontent-%COMP%]{position:relative}.autocomplete-results[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 6px);left:0;right:0;z-index:999;background:#fff;border-radius:8px;border:1px solid #e6eefc;overflow-y:auto;max-height:220px;box-shadow:0 6px 14px #1e326414}.autocomplete-item[_ngcontent-%COMP%]{padding:10px 14px;cursor:pointer;border-bottom:1px solid #f1f5fb}.autocomplete-item[_ngcontent-%COMP%]:hover{background:#f0f4ff}.item-ref[_ngcontent-%COMP%]{font-weight:700;color:#182848}.item-name[_ngcontent-%COMP%]{color:#6b7280}.spinner[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%)}.button-group[_ngcontent-%COMP%]{display:flex;gap:.8rem;margin-top:.6rem}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:.65rem 1rem;border-radius:8px;font-weight:600;cursor:pointer;border:none;min-width:120px}.btn-primary[_ngcontent-%COMP%]{background:#4b6cb7;color:#fff;box-shadow:0 6px 16px #4b6cb72e}.btn-secondary[_ngcontent-%COMP%]{background:#a0aec0;color:#fff;box-shadow:0 6px 14px #a0aec024}.labels-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;min-height:360px}.labels-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1rem;padding-bottom:.5rem;border-bottom:1px dashed #eef4ff}.labels-actions[_ngcontent-%COMP%]   .left-actions[_ngcontent-%COMP%]{display:flex;gap:.8rem}.labels-actions[_ngcontent-%COMP%]   .right-actions[_ngcontent-%COMP%]{color:#55607a;font-weight:600;font-size:.95rem}.labels-list-wrapper[_ngcontent-%COMP%]{margin-top:.6rem;flex:1 1 auto;overflow:hidden}.labels-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;max-height:420px;overflow-y:auto;border:1px solid #e7effb;border-radius:8px;background:#fbfdff}.labels-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.9rem 1rem;border-bottom:1px solid #eef4ff;font-family:Roboto Mono,monospace;color:#1f2937}.labels-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.code-number[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:#182848}.code-meta[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.35rem .6rem;border-radius:999px;font-size:.78rem;font-weight:700;color:#fff}.badge-created[_ngcontent-%COMP%]{background:#28a745}.badge-validated[_ngcontent-%COMP%]{background:#17a2b8}.placeholder[_ngcontent-%COMP%]{color:#9aa7bd;font-style:italic;text-align:center;padding:3rem 1rem;background:linear-gradient(180deg,rgba(75,108,183,.02),transparent);border-radius:8px}@media (max-width: 900px){.main-content[_ngcontent-%COMP%]{padding:1rem}.layout-row[_ngcontent-%COMP%]{flex-direction:column}.left-panel-col[_ngcontent-%COMP%], .right-panel-col[_ngcontent-%COMP%]{flex:1 1 auto;max-width:100%}.labels-list[_ngcontent-%COMP%]{max-height:260px}}.autocomplete-results[_ngcontent-%COMP%]{z-index:1200;max-height:260px;box-shadow:0 8px 22px #1e32641f}.left-panel-col[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.2rem}.form-control[_ngcontent-%COMP%]{min-height:44px}.labels-list[_ngcontent-%COMP%]   li.error[_ngcontent-%COMP%]   .code-number[_ngcontent-%COMP%]{color:#dc3545}.labels-list[_ngcontent-%COMP%]   li.pending[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#6c757d}.labels-list[_ngcontent-%COMP%]   li.pending[_ngcontent-%COMP%]   .code-number[_ngcontent-%COMP%]{color:#55607a}.text-warning[_ngcontent-%COMP%]{color:#ffc107!important}.labels-list[_ngcontent-%COMP%]   li.missing[_ngcontent-%COMP%]{background-color:#fff8e1}.labels-list[_ngcontent-%COMP%]   li.missing[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#ffc107;color:#343a40}.labels-list[_ngcontent-%COMP%]   li.missing[_ngcontent-%COMP%]   .code-number[_ngcontent-%COMP%]{color:#ffc107}.labels-list[_ngcontent-%COMP%]   li.error[_ngcontent-%COMP%]{background-color:#fcebeb}.labels-list[_ngcontent-%COMP%]   li.error[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#dc3545}.labels-list[_ngcontent-%COMP%]   li.error[_ngcontent-%COMP%]   .code-number[_ngcontent-%COMP%]{color:#dc3545;font-weight:700}.text-success[_ngcontent-%COMP%]{color:#28a745!important}.text-danger[_ngcontent-%COMP%]{color:#dc3545!important}.badge.bg-info[_ngcontent-%COMP%]{background-color:#87d1e6!important;color:#036!important;font-weight:700}.list-group.codes-read-list[_ngcontent-%COMP%]{border:1px solid #d6dde8;border-radius:8px;background:#f4f7fb;padding:0}.codes-read-list[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #eef4ff;padding:.5rem 1rem;background-color:transparent}.codes-read-list[_ngcontent-%COMP%]   .code-text[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;font-size:.9rem;font-weight:600;color:#182848}.btn-success[_ngcontent-%COMP%]{background:#28a745;border-color:#28a745}.btn-danger[_ngcontent-%COMP%]{background:#dc3545;border-color:#dc3545}']})}}return a})()}}]);