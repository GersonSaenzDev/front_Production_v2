"use strict";(self.webpackChunkfree_version=self.webpackChunkfree_version||[]).push([[132],{3132:(y,d,i)=>{i.r(d),i.d(d,{AuthModule:()=>k});var c=i(2200),l=i(8132),o=i(8728),f=i(7705),m=i(4047),s=i(9417),g=i(9330),h=i(8141),C=i(9437),v=i(8810),u=i(2525);let b=(()=>{class n{constructor(){this.http=(0,o.WQX)(g.Qq),this.AUTH_KEY="x-token",this.API_URL=`${u.c.backendUrlRH}${u.c.api}/login`,this.isAuthenticated=(0,o.vPA)(this.checkToken())}login(r){const e=new g.Lr({"Content-Type":"application/json"});return this.http.post(this.API_URL,r,{headers:e}).pipe((0,h.M)(a=>{a.ok&&a.msg&&(this.saveToken(a.msg),this.isAuthenticated.set(!0))}),(0,C.W)(this.handleError))}logout(){typeof window<"u"&&(localStorage.removeItem(this.AUTH_KEY),this.isAuthenticated.set(!1))}getToken(){return typeof window<"u"?localStorage.getItem(this.AUTH_KEY):null}saveToken(r){typeof window<"u"&&localStorage.setItem(this.AUTH_KEY,r)}checkToken(){return typeof window<"u"&&!!localStorage.getItem(this.AUTH_KEY)}handleError(r){console.error("Detalle del error de red:",r);let e="Error desconocido";return e=0===r.status?"No se pudo conectar con el servidor. Verifica que el backend en el puerto 3011 est\xe9 encendido.":401===r.status?"Usuario o contrase\xf1a incorrectos.":`Error del servidor: ${r.status}`,(0,v.$)(()=>new Error(e))}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275prov=o.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var t=i(3664);function M(n,p){1&n&&(t.j41(0,"div",34)(1,"small"),t.EFF(2,"Verifica tu usuario"),t.k0s()())}function P(n,p){1&n&&(t.j41(0,"div",34)(1,"small"),t.EFF(2,"La contrase\xf1a es requerida"),t.k0s()())}function O(n,p){if(1&n&&(t.j41(0,"div",35),t.EFF(1),t.k0s()),2&n){const r=t.XpG();t.R7$(),t.SpI(" ",r.error()," ")}}const x=[{path:"login",component:(()=>{class n{constructor(){this.authService=(0,o.WQX)(b),this.fb=(0,o.WQX)(s.ok),this.router=(0,o.WQX)(m.Ix),this.cd=(0,o.WQX)(f.gRc),this.loading=!1,this.submitted=(0,o.vPA)(!1),this.error=(0,o.vPA)("")}ngOnInit(){this.loginForm=this.fb.group({username:["",[s.k0.required]],password:["",[s.k0.required]]})}get f(){return this.loginForm.controls}onSubmit(){this.submitted.set(!0),this.error.set(""),this.loginForm.invalid||(this.loading=!0,this.authService.login({user:this.loginForm.value.username,pass:this.loginForm.value.password}).subscribe({next:e=>{e.ok?this.router.navigate(["/production"]):(this.loading=!1,this.error.set("Credenciales incorrectas"))},error:e=>{this.loading=!1,console.error("\u274c Error en el login:",e),this.error.set("Error en el inicio de sesi\xf3n. Int\xe9ntalo de nuevo.")}}),this.cd.detectChanges())}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-login"]],decls:55,vars:8,consts:[[1,"auth-main"],[1,"auth-container"],[1,"auth-visual"],[1,"corporate-background"],[1,"visual-overlay"],[1,"brand-glass-card"],["src","../../../assets/images/Logo_Abba_Azul.png","alt","Abba Logo",1,"main-logo"],[1,"divider"],[1,"corporate-name"],[1,"slogan-text"],[1,"auth-form-side"],[1,"form-content"],[1,"form-header"],[1,"modern-form",3,"ngSubmit","formGroup"],[1,"input-group"],[1,"field-wrapper"],[1,"input-icon"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],["type","text","formControlName","username","id","username",1,"custom-input"],["for","username",1,"floating-label"],[1,"focus-indicator"],["class","field-error-text",4,"ngIf"],["x","3","y","11","width","18","height","11","rx","2","ry","2"],["d","M7 11V7a5 5 0 0 1 10 0v4"],["type","password","formControlName","password","id","password","placeholder"," ",1,"custom-input"],["for","password",1,"floating-label"],["type","submit",1,"btn-primary-abba"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2.5",1,"arrow-icon"],["x1","5","y1","12","x2","19","y2","12"],["points","12 5 19 12 12 19"],["class","error-alert-modern",4,"ngIf"],[1,"form-footer"],[1,"field-error-text"],[1,"error-alert-modern"]],template:function(e,a){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.nrm(3,"div",3)(4,"div",4),t.j41(5,"div",5),t.nrm(6,"img",6)(7,"div",7),t.j41(8,"h2",8)(9,"strong"),t.EFF(10,"Indusel"),t.k0s()(),t.j41(11,"p",9),t.EFF(12,"Tradici\xf3n, Innovaci\xf3n, Confianza"),t.k0s()()(),t.j41(13,"div",10)(14,"div",11)(15,"header",12)(16,"h1"),t.EFF(17,"Portal Interno"),t.k0s(),t.j41(18,"p"),t.EFF(19,"Sistema de gesti\xf3n de "),t.j41(20,"strong"),t.EFF(21,"Indusel"),t.k0s()()(),t.j41(22,"form",13),t.bIt("ngSubmit",function(){return a.onSubmit()}),t.j41(23,"div",14)(24,"div",15)(25,"div",16),o.qSk(),t.j41(26,"svg",17),t.nrm(27,"path",18)(28,"circle",19),t.k0s()(),o.joV(),t.nrm(29,"input",20),t.j41(30,"label",21),t.EFF(31,"Usuario"),t.k0s(),t.nrm(32,"span",22),t.k0s(),t.DNE(33,M,3,0,"div",23),t.k0s(),t.j41(34,"div",14)(35,"div",15)(36,"div",16),o.qSk(),t.j41(37,"svg",17),t.nrm(38,"rect",24)(39,"path",25),t.k0s()(),o.joV(),t.nrm(40,"input",26),t.j41(41,"label",27),t.EFF(42,"Contrase\xf1a"),t.k0s(),t.nrm(43,"span",22),t.k0s(),t.DNE(44,P,3,0,"div",23),t.k0s(),t.j41(45,"button",28)(46,"span"),t.EFF(47,"Ingresar"),t.k0s(),o.qSk(),t.j41(48,"svg",29),t.nrm(49,"line",30)(50,"polyline",31),t.k0s()(),t.DNE(51,O,2,1,"div",32),t.k0s(),o.joV(),t.j41(52,"footer",33)(53,"p"),t.EFF(54,"\xa9 2026 Indusel S.A.S. | Soporte IT"),t.k0s()()()()()()),2&e&&(t.R7$(22),t.Y8G("formGroup",a.loginForm),t.R7$(2),t.AVh("has-error",a.submitted()),t.R7$(9),t.Y8G("ngIf",a.submitted()),t.R7$(2),t.AVh("has-error",a.submitted()&&a.f.password.errors),t.R7$(9),t.Y8G("ngIf",a.submitted()&&a.f.password.errors),t.R7$(7),t.Y8G("ngIf",a.error()))},dependencies:[c.MD,c.bT,l.iI,s.X1,s.qT,s.me,s.BC,s.cb,s.j4,s.JD],styles:[".auth-main[_ngcontent-%COMP%]{height:100vh;display:flex;font-family:Inter,system-ui,sans-serif;background-color:#fff}.auth-container[_ngcontent-%COMP%]{display:flex;width:100%}.auth-visual[_ngcontent-%COMP%]{flex:1.4;position:relative;display:none;align-items:center;justify-content:center;background-color:#004a99}@media (min-width: 992px){.auth-visual[_ngcontent-%COMP%]{display:flex}}.auth-visual[_ngcontent-%COMP%]   .visual-overlay[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background:radial-gradient(circle at center,#0000,#0000004d)}.auth-visual[_ngcontent-%COMP%]   .brand-glass-card[_ngcontent-%COMP%]{position:relative;z-index:2;background:#ffffff1f;backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.2);padding:3.5rem;border-radius:30px;text-align:center;box-shadow:0 25px 50px #0003}.auth-visual[_ngcontent-%COMP%]   .brand-glass-card[_ngcontent-%COMP%]   .main-logo[_ngcontent-%COMP%]{width:200px;margin-bottom:1.5rem}.auth-visual[_ngcontent-%COMP%]   .brand-glass-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:2px;width:50px;background:#fff;margin:1.5rem auto;opacity:.6}.auth-visual[_ngcontent-%COMP%]   .brand-glass-card[_ngcontent-%COMP%]   .corporate-name[_ngcontent-%COMP%]{color:#fff;font-weight:300;letter-spacing:6px;font-size:1.7rem}.auth-visual[_ngcontent-%COMP%]   .brand-glass-card[_ngcontent-%COMP%]   .slogan-text[_ngcontent-%COMP%]{color:#ffffffb3;font-style:italic;font-size:.85rem;margin-top:10px}.auth-form-side[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;padding:2rem}.auth-form-side[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]{width:100%;max-width:400px}.form-header[_ngcontent-%COMP%]{margin-bottom:3rem}.form-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#004a99;font-weight:850;font-size:2.4rem;margin-bottom:.5rem}.form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#575756;font-size:.95rem}.input-group[_ngcontent-%COMP%]{margin-bottom:1.8rem;position:relative}.input-group[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;background:#f8fafc;border:1.5px solid #e2e8f0;border-radius:14px;height:64px;transition:all .3s cubic-bezier(.4,0,.2,1)}.input-group[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{padding:0 18px;color:#94a3b8;z-index:2}.input-group[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;transition:color .3s}.input-group[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   .custom-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:24px 15px 8px 0;border:none;background:transparent;font-size:1rem;color:#1e1e1e;font-weight:500;z-index:1}.input-group[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   .custom-input[_ngcontent-%COMP%]:focus{outline:none}.input-group[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   .floating-label[_ngcontent-%COMP%]{position:absolute;left:55px;top:50%;transform:translateY(-50%);color:#94a3b8;font-size:1rem;pointer-events:none;transition:all .2s ease;z-index:2}.input-group[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   .custom-input[_ngcontent-%COMP%]:focus ~ .floating-label[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   .custom-input[_ngcontent-%COMP%]:not(:placeholder-shown) ~ .floating-label[_ngcontent-%COMP%]{top:14px;font-size:.72rem;font-weight:700;color:#004a99;text-transform:uppercase;letter-spacing:.8px}.input-group[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]:focus-within{background:#fff;border-color:#004a99;box-shadow:0 10px 25px #004a991a}.input-group[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]:focus-within   .input-icon[_ngcontent-%COMP%]{color:#004a99}.input-group[_ngcontent-%COMP%]   .field-wrapper.has-error[_ngcontent-%COMP%]{border-color:#dc2626}.btn-primary-abba[_ngcontent-%COMP%]{width:100%;padding:18px;background:linear-gradient(135deg,#004a99,#036);color:#fff;border:none;border-radius:14px;font-weight:700;font-size:1rem;display:flex;align-items:center;justify-content:center;gap:12px;cursor:pointer;transition:all .3s;box-shadow:0 10px 20px #004a9933}.btn-primary-abba[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 15px 30px #004a994d}.btn-primary-abba[_ngcontent-%COMP%]:hover   .arrow-icon[_ngcontent-%COMP%]{transform:translate(5px)}.btn-primary-abba[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{width:18px;transition:transform .3s}.form-footer[_ngcontent-%COMP%]{margin-top:3.5rem;text-align:center;color:#cbd5e1;font-size:.8rem;border-top:1px solid #f1f5f9;padding-top:20px}"]})}}return n})()},{path:"",redirectTo:"login",pathMatch:"full"}];let w=(()=>{class n{static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=o.G2t({imports:[l.iI.forChild(x),l.iI]})}}return n})(),k=(()=>{class n{static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=o.G2t({imports:[c.MD,w]})}}return n})()}}]);